# Check webdav access duration preference

Test verifies that 
- time period for the datastorage to be mounted to dav can be defined
- after this time storage should be automatically unmounted from dav

**Prerequisites**:
- Admin user

**Preparations**
1. Login as admin user from the prerequisites
2. Create the object storage

| Steps | Actions | Expected results |
| :---: | --- | --- |
| 1 | Login as the admin user from the prerequisites | |
| 2 | Open the **Settings** page | |
| 3 | Click the **PREFERENCES** tab | |
| 4 | Click the **Data Storage** tab | |
| 5 | Find the **`storage.webdav.access.duration.seconds`** preference |  |
| 6 | Save the preference value, then clear and input `20` | |
| 7 | Click **Save** button | |
| 8 | Open the storage created at step 2 in Preparations
| 9 | Click ***Show attributes*** button | ***Attributes*** sections opens and contains ***Request file system access*** link |
| 10 | Click ***Request file system access*** link | <li> ***Request file system access*** link changes to message **`File system access enabled till <date>, <time>`**, <br> where `date` and `time` correspond to date and time 20sec after clicking the link <li> Link ***Disable*** is shown near the message |
| 11 | Wait 10sec and open page with url `<path to webdav>/<user_name>`, <br> where `<user_name>` is name of admin user from Prerequisites  | ***Index of /webdav/<user_name>*** and contains name of the storage created at step 2 in Preparations |
| 12 | Wait 20sec. Repeat steps 8-9 | ***Attributes*** sections opens and contains ***Request file system access*** link |
| 13 | Open page with url `<path to webdav>/<user_name>`, <br> where `<user_name>` is name of admin user from Prerequisites  | ***Index of /webdav/<user_name>*** and doesn't contain name of the storage created at step 2 in Preparations |

**After:**
Restore the value of the `storage.webdav.access.duration.seconds` preference to the previous value saved at step 5