# Check user action for IDLE_RUN_PAUSED notification

Test verifies that `Job <runID> was PAUSED as it was Idle for a long time` notifications have actions 
- `View run` that open the corresponding run page
- `Resume run` that resume run
- `Terminate run` 

**Prerequisites**:
- Admin user
- non-admin user

**Preparations**:
1. Login as admin user from the Prerequisites
2. Open the **Settings** page
3. Click the **EMAIL NOTIFICATIONS** tab 
4. Select **IDLE_RUN_PAUSED** tab
5. Check that _Enabled_ and _Keep owners informed_ checkboxes are ticked
6. Save and set next values:
     -  _Max duration of idle (min)_ - `1`
     - _Action delay (min)_ - `1`
     - _CPU idle threshold (%)_ - `95`
     - _Action_ - `PAUSE`
7. Click **Save** button

| Steps | Actions | Expected results |
| :---: | --- | --- |
| 1 | Login as non-admin user from the Prerequisites | |
| 2 | Open the **Tools** page |  | 
| 3 | Select test tool |  |
| 4 | At the tool page, hover over the **Run v** button |  |
| 5 | Click the **Custom settings** button in the list |  |
| 6 | Expand the **Advanced** section |  | 
| 7 | Select **On-demand** Price type |  |
| 8 | Launch the run |  |
| 9 | Open the **Runs** page | |
| 10 | Wait until run launched at step 8 has been paused | |
| 11 | Open **Notifications** tab. Wait until notification `Job <runID> was PAUSED as it was Idle for a long time` (where `<runID>` is ID of run launched at step 8) appears in the notifications table | |
| 12 | Click **Gear** icon for this notification | Actions list opens that contains actions `View run`, `Resume run`, `Terminate run` |
| 13 | Select `Resume run` action | Popup message `Run is resuming` appears |
| 14 | Click **Gear** icon for this notification | Actions list opens that contains actions `View run` |
| 15 | Select `View run` action | Run page for run launched at step 8 opens. Run has _RUNNING_ status |
| 16 | Wait until run launched at step 8 has been paused | |
| 17 | Repeat steps 11-12 | Actions list opens that contains actions `View run`, `Resume run`, `Terminate run` |
| 19 | Select `Terminate run` action |  |
| 20 | Click **Gear** icon for this notification | Actions list opens that contains actions `View run` |
| 21 | Select `View run` action | Run page for run launched at step 8 opens. Run has _STOPPED_ status |

**After:**
- Restore notification preferences changed at step 6 of the Preparations.

